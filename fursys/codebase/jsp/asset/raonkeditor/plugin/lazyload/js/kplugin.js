(function(){try{var c={pluginName:"lazyload",cssUrl:DEXTTOP.G_CURREDITOR._config.webPath.plugin+"lazyload/css/lazyload.css"+("1"==DEXTTOP.DEXT5.config.UseConfigTimeStamp?"?t="+DEXTTOP.DEXT5.util.getTimeStamp():"?ver="+DEXTTOP.DEXT5.ReleaseVer),cssId:"dextLazyCss",isSupported:"function"==typeof document.getElementsByClassName?!0:!1};G_DEPlugin.lazyload=c;var b=null;if(0!=c.isSupported){var m=function(a){var h=document.getElementsByTagName("head")[0],b=document.createElement("script");b.type="text/javascript";
b.src=a;h.appendChild(b)};c.onInit=function(){var a="../plugin/lazyload/js"+(DEXTTOP.DEXT5.isRelease?"":"_dev")+"/config.js",a="1"==DEXTTOP.DEXT5.config.UseConfigTimeStamp?a+("?t="+DEXTTOP.DEXT5.util.getTimeStamp()):a+("?ver="+DEXTTOP.DEXT5.ReleaseVer);m(a);var b=setInterval(function(){if(G_DEPlugin.lazyload.options){clearInterval(b);window.lazySizesConfig=G_DEPlugin.lazyload.options;var a="../plugin/lazyload/js"+(DEXTTOP.DEXT5.isRelease?"":"_dev")+"/lazysizes.js",a="1"==DEXTTOP.DEXT5.config.UseConfigTimeStamp?
a+("?t="+DEXTTOP.DEXT5.util.getTimeStamp()):a+("?ver="+DEXTTOP.DEXT5.ReleaseVer);m(a)}},100)};c.onInit();c.onLoaded=function(){b=lazySizes;p()};c.onBeforeGetApi=function(a){var b=a.targetDoc.getElementById(c.cssId);b&&b.parentNode.removeChild(b);n(a)};c.onBeforeEditorChangeMode=function(a){"source"==a.newMode?n({targetDoc:_iframeDoc}):"preview"==a.currMode&&"design"==a.newMode&&g(_iframeWin)};c.onAfterEditorChangeMode=function(a){"preview"==a.newMode&&g(DEXTTOP.G_CURREDITOR._EDITOR.preview.contentWindow)};
var p=function(){var a=setBodyValueToEditor;setBodyValueToEditor=function(b,d){b=f(b);a(b,d);l(_iframeDoc);g(_iframeWin)};var b=setBodyValueToEditorEx;setBodyValueToEditorEx=function(a,d){a=f(a);b(a,d);l(_iframeDoc);g(_iframeWin)};var c=setHeadValueToEditor;setHeadValueToEditor=function(a,b){a=f(a);c(a,b);l(_iframeDoc);g(_iframeWin)};var e=setHtmlValueToEditor;setHtmlValueToEditor=function(a,b,h,c){a=f(a);e(a,b,h,c);l(_iframeDoc);g(_iframeWin)};var q=setHtmlValueWithDocTypeToEditor;setHtmlValueWithDocTypeToEditor=
function(a,b,h){a=f(a);q(a,b,h);l(_iframeDoc);g(_iframeWin)}},f=function(a){var h=new RegExp(/(<img[^>]+)(src=)([^>]+>)/gi);h.test(a)&&(a=a.replace(h,"$1"+b.cfg.srcAttr+"=$3"));return a},l=function(a){a=a.getElementsByTagName("img");for(var h=a.length,c=0;c<h;c++)for(var e=a[c],g=e.attributes.length,f=0;f<g;f++){var d=e.attributes[f];d.name==b.cfg.srcAttr&&""!=d.value?0==b.hC(e,b.cfg.lazyClass)&&b.aC(e,b.cfg.lazyClass):-1<d.name.indexOf(b.cfg.srcAttr)&&(e.setAttribute(d.name.replace(b.cfg.srcAttr,
"src"),d.value),e.removeAttribute(d.name))}},g=function(a){null==a.document.getElementById(c.cssId)&&r(a.document);_iframeDoc.addEventListener("lazyloaded",t);b.setWindow(a);setTimeout(function(){b.init(!0)},0)},t=function(a){},n=function(a){for(var c=[b.cfg.lazyClass,b.cfg.loadedClass,b.cfg.loadingClass,b.cfg.preloadClass,b.cfg.errorClass,b.cfg.autosizesClass,b.cfg.fastLoadedClass],g=c.length,e=0;e<g;e++)for(var f=a.targetDoc.getElementsByClassName(c[e]),l=c[e],d=f.length-1;0<=d;d--){var k=f[d];
k.getAttribute(b.cfg.srcAttr)&&(k.src=k.getAttribute(b.cfg.srcAttr),k.removeAttribute(b.cfg.srcAttr));b.rC(k,l);""!=k.className&&""!=k.className.replace(/ /g,"")||k.removeAttribute("class")}},r=function(a){var b=a.createElement("link");b.href=c.cssUrl;b.id=c.cssId;b.rel="stylesheet";b.type="text/css";a.getElementsByTagName("head")[0].appendChild(b)}}}catch(u){}})();
